(this["webpackJsonpfirst-curd-ui"]=this["webpackJsonpfirst-curd-ui"]||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){},17:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),i=c(8),o=c.n(i),a=(c(14),c(2)),l=(c(15),c(0)),r=function(e){return Object(l.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("div",{className:"col-10",children:Object(l.jsx)("h2",{className:"navbar-brand",children:"Todo"})}),Object(l.jsx)("div",{className:"col-2"})]})})},d=function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(r,{}),Object(l.jsx)("main",{children:e.children})]})},j=c(4),b=(c(17),function(e){var t=["card","todo"];e.completed?t.push("todo-completed"):t.push("todo-pending");var c=function(t){var c={title:e.title,description:e.description,completed:!e.completed};fetch("http://localhost:4000/api/v1/todo/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){console.log(t),e.onUpdateTodo()})).catch((function(e){return console.error(e)}))},n=Object(l.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:c,children:"Mark as complete"});return e.completed&&(n=Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:c,children:"Mark as incomplete"})),Object(l.jsxs)("div",{className:t.join(" "),children:[Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("div",{className:"col-8",children:Object(l.jsx)("label",{children:e.title})}),Object(l.jsx)("div",{className:"col-2 align-self-end",children:n}),Object(l.jsx)("div",{className:"col-2 align-self-end",children:Object(l.jsx)("button",{className:"btn btn-outline-danger btn-sm",children:"Delete"})})]}),Object(l.jsx)("p",{children:e.description})]})}),u=c(9),h=c.n(u),O=function(e){var t=e.items.map((function(t){return Object(l.jsx)(b,{id:t._id,description:t.description,title:t.title,completed:t.completed,createdAt:t.createdAt,updatedAt:t.updatedAt,onUpdateTodo:e.onUpdateTodo},t._id)}));return Object(l.jsxs)(s.a.Fragment,{children:[Object(l.jsx)("h4",{children:"Todo List"}),Object(l.jsx)("div",{className:h.a.TodoList,children:t})]})},m=function(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(""),i=Object(j.a)(s,2),o=i[0],a=i[1],r=Object(n.useState)(""),d=Object(j.a)(r,2),b=d[0],u=d[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col align-self-center",children:Object(l.jsx)("h4",{children:"Add new Todo"})})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col align-self-center",children:[Object(l.jsx)("label",{htmlFor:"title",children:"Title"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"title",ref:t,value:o,onChange:function(e){a(e.target.value)}})]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col align-self-center",children:[Object(l.jsx)("label",{htmlFor:"description",children:"Description"}),Object(l.jsx)("textarea",{className:"form-control",id:"description",ref:c,value:b,onChange:function(e){u(e.target.value)}})]})}),Object(l.jsx)("div",{className:"row",children:Object(l.jsx)("div",{className:"col",children:Object(l.jsx)("button",{className:"btn btn-success btn-sm",onClick:function(n){if(0!==t.current.value.trim().length){var s={title:t.current.value,description:c.current.value,completed:!1};fetch("http://localhost:4000/api/v1/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){a(""),u(""),e.onCreateTodo()})).catch((function(e){return console.error(e)}))}else alert("title cannot be empty")},children:"Add new Todo"})})})]})},p=function(e){var t=Object(n.useState)([]),c=Object(j.a)(t,2),s=c[0],i=c[1],o=function(){console.log("in fetchTodoList"),fetch("http://localhost:4000/api/v1/todo").then((function(e){return e.json()})).then((function(e){var t=e.data;i(t)}))};return Object(n.useState)((function(){console.log("in use state"),o()}),[]),Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col",children:[Object(l.jsx)(m,{onCreateTodo:o}),Object(l.jsx)(O,{items:s,onUpdateTodo:o})]})})};var x=function(){return Object(l.jsx)("div",{className:"container",children:Object(l.jsx)(d,{children:Object(l.jsx)(a.c,{children:Object(l.jsx)(a.a,{path:"/",element:Object(l.jsx)(p,{}),exact:!0})})})})},f=c(7);o.a.render(Object(l.jsx)(f.a,{children:Object(l.jsx)(x,{})}),document.getElementById("root"))},9:function(e,t,c){}},[[18,1,2]]]);
//# sourceMappingURL=main.2a9cb862.chunk.js.map