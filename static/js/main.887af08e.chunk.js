(this["webpackJsonpfirst-curd-ui"]=this["webpackJsonpfirst-curd-ui"]||[]).push([[0],[,,,,,,,function(e,t,c){},,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),o=c(6),i=c.n(o),a=(c(12),c(13),c(1)),l=function(e){return Object(a.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"col-10",children:Object(a.jsx)("h2",{className:"navbar-brand",children:"Todo"})}),Object(a.jsx)("div",{className:"col-2"})]})})},r=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(l,{}),Object(a.jsx)("main",{children:e.children})]})},d=c(2),j=(c(15),function(e){var t=["card","todo"];e.completed?t.push("todo-completed"):t.push("todo-pending");var c=function(t){var c={title:e.title,description:e.description,completed:!e.completed};fetch("http://localhost:4000/api/v1/todo/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){console.log(t),e.onUpdateTodo()})).catch((function(e){return console.error(e)}))},n=Object(a.jsx)("button",{className:"btn btn-outline-success btn-sm",onClick:c,children:"Mark as complete"});return e.completed&&(n=Object(a.jsx)("button",{className:"btn btn-outline-danger btn-sm",onClick:c,children:"Mark as incomplete"})),Object(a.jsxs)("div",{className:t.join(" "),children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-8",children:Object(a.jsx)("label",{children:e.title})}),Object(a.jsx)("div",{className:"col-2 align-self-end",children:n}),Object(a.jsx)("div",{className:"col-2 align-self-end",children:Object(a.jsx)("button",{className:"btn btn-outline-danger btn-sm",children:"Delete"})})]}),Object(a.jsx)("p",{children:e.description})]})}),b=c(7),u=c.n(b),h=function(e){var t=e.items.map((function(t){return Object(a.jsx)(j,{id:t._id,description:t.description,title:t.title,completed:t.completed,createdAt:t.createdAt,updatedAt:t.updatedAt,onUpdateTodo:e.onUpdateTodo},t._id)}));return Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("h4",{children:"Todo List"}),Object(a.jsx)("div",{className:u.a.TodoList,children:t})]})},O=function(e){var t=Object(n.useRef)(),c=Object(n.useRef)(),s=Object(n.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1],r=Object(n.useState)(""),j=Object(d.a)(r,2),b=j[0],u=j[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col align-self-center",children:Object(a.jsx)("h4",{children:"Add new Todo"})})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col align-self-center",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"title",ref:t,value:i,onChange:function(e){l(e.target.value)}})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col align-self-center",children:[Object(a.jsx)("label",{htmlFor:"description",children:"Description"}),Object(a.jsx)("textarea",{className:"form-control",id:"description",ref:c,value:b,onChange:function(e){u(e.target.value)}})]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("button",{className:"btn btn-success btn-sm",onClick:function(n){if(0!==t.current.value.trim().length){var s={title:t.current.value,description:c.current.value,completed:!1};fetch("http://localhost:4000/api/v1/todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){l(""),u(""),e.onCreateTodo()})).catch((function(e){return console.error(e)}))}else alert("title cannot be empty")},children:"Add new Todo"})})})]})},m=function(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],o=c[1],i=function(){console.log("in fetchTodoList"),fetch("http://localhost:4000/api/v1/todo").then((function(e){return e.json()})).then((function(e){var t=e.data;o(t)}))};return Object(n.useState)((function(){console.log("in use state"),i()}),[]),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col",children:[Object(a.jsx)(O,{onCreateTodo:i}),Object(a.jsx)(h,{items:s,onUpdateTodo:i})]})})};var p=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(r,{children:Object(a.jsx)(m,{})})})},f=c(5);i.a.render(Object(a.jsx)(f.a,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.887af08e.chunk.js.map